<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.30">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>3&nbsp; OverHAuL’s Design – OverHAuL</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../chapters/evaluation.html" rel="next">
<link href="../chapters/background.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-fc28e9b749f75a4a381771fbe9d42b43.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark-450b7d896efee5edec3f767475d1ea0a.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-fc28e9b749f75a4a381771fbe9d42b43.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-59deb8712cfd670027f81299959788f9.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark-3fc190bb73c398b54bbb1660cc7262c8.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="../site_libs/bootstrap/bootstrap-59deb8712cfd670027f81299959788f9.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script src="../site_libs/quarto-contrib/pseudocode-2.4.1/pseudocode.min.js"></script>
<link href="../site_libs/quarto-contrib/pseudocode-2.4.1/pseudocode.min.css" rel="stylesheet">
<script src="../site_libs/quarto-contrib/iconify-2.1.0/iconify-icon.min.js"></script>
<script src="../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://tinylytics.app/embed/rSbhZ_sMtsVibUKrZtZ2/min.js" defer=""></script>
<script>
MathJax = {
  loader: {
    load: ['[tex]/boldsymbol']
  },
  tex: {
    tags: "all",
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$'], ['\\[','\\]']],
    processEscapes: true,
    processEnvironments: true,
    packages: {
      '[+]': ['boldsymbol']
    }
  }
};
</script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

  <script>window.backupDefine = window.define; window.define = undefined;</script><script src="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css">

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const queryPrefersDark = window.matchMedia('(prefers-color-scheme: dark)');
    const darkModeDefault = queryPrefersDark.matches;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    queryPrefersDark.addEventListener("change", e => {
      if(window.localStorage.getItem("quarto-color-scheme") !== null)
        return;
      const alternate = e.matches
      toggleColorMode(alternate);
      localAlternateSentinel = e.matches ? 'alternate' : 'default'; // this is used alongside local storage!
      toggleGiscusIfUsed(alternate, darkModeDefault);
    });
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../chapters/overhaul.html"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">OverHAuL’s Design</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">OverHAuL</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://github.com/kchousos/BSc-Thesis/" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <a href="../thesis.pdf" title="Download PDF" class="quarto-navigation-tool px-1" aria-label="Download PDF"><i class="bi bi-file-pdf"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/background.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Background</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/overhaul.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">OverHAuL’s Design</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/evaluation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Evaluation</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/related.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Related work</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/future.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Future Work</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/conclusion.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Conclusion</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/refs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bibliography</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/abandoned.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Abandoned Techniques</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/sample-harnesses.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Sample Generated Harnesses</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/prompts.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">C</span>&nbsp; <span class="chapter-title">DSPy Custom Signatures</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="99">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#sec-install" id="toc-sec-install" class="nav-link active" data-scroll-target="#sec-install"><span class="header-section-number">3.1</span> Installation and Usage</a></li>
  <li><a href="#sec-architecture" id="toc-sec-architecture" class="nav-link" data-scroll-target="#sec-architecture"><span class="header-section-number">3.2</span> Architecture</a>
  <ul class="collapse">
  <li><a href="#sec-analysis" id="toc-sec-analysis" class="nav-link" data-scroll-target="#sec-analysis"><span class="header-section-number">3.2.1</span> Project Analysis</a></li>
  <li><a href="#sec-creation" id="toc-sec-creation" class="nav-link" data-scroll-target="#sec-creation"><span class="header-section-number">3.2.2</span> Harness Creation</a></li>
  <li><a href="#sec-evaluation" id="toc-sec-evaluation" class="nav-link" data-scroll-target="#sec-evaluation"><span class="header-section-number">3.2.3</span> Harness Evaluation</a></li>
  </ul></li>
  <li><a href="#sec-techniques" id="toc-sec-techniques" class="nav-link" data-scroll-target="#sec-techniques"><span class="header-section-number">3.3</span> OverHAuL Techniques</a>
  <ul class="collapse">
  <li><a href="#sec-loop" id="toc-sec-loop" class="nav-link" data-scroll-target="#sec-loop"><span class="header-section-number">3.3.1</span> Feedback Loop</a></li>
  <li><a href="#react-agents-triplet" id="toc-react-agents-triplet" class="nav-link" data-scroll-target="#react-agents-triplet"><span class="header-section-number">3.3.2</span> React Agents Triplet</a></li>
  <li><a href="#sec-oracle" id="toc-sec-oracle" class="nav-link" data-scroll-target="#sec-oracle"><span class="header-section-number">3.3.3</span> Codebase Oracle</a></li>
  </ul></li>
  <li><a href="#high-level-algorithm" id="toc-high-level-algorithm" class="nav-link" data-scroll-target="#high-level-algorithm"><span class="header-section-number">3.4</span> High-Level Algorithm</a></li>
  <li><a href="#sec-scope" id="toc-sec-scope" class="nav-link" data-scroll-target="#sec-scope"><span class="header-section-number">3.5</span> Scope</a></li>
  <li><a href="#sec-implementation" id="toc-sec-implementation" class="nav-link" data-scroll-target="#sec-implementation"><span class="header-section-number">3.6</span> Implementation</a>
  <ul class="collapse">
  <li><a href="#development-tools" id="toc-development-tools" class="nav-link" data-scroll-target="#development-tools"><span class="header-section-number">3.6.1</span> Development Tools</a></li>
  <li><a href="#reproducibility" id="toc-reproducibility" class="nav-link" data-scroll-target="#reproducibility"><span class="header-section-number">3.6.2</span> Reproducibility</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">


<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="sec-overhaul" class="quarto-section-identifier"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">OverHAuL’s Design</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>In this thesis we present <strong>OverHAuL</strong> (<strong>H</strong>arness <strong>Au</strong>tomation with <strong>L</strong>LMs), a neurosymbolic AI tool that automatically generates fuzzing harnesses for C libraries through LLM agents. In its core, OverHAuL is comprised by a triplet of LLM ReAct agents <span class="citation" data-cites="reAct"><a href="refs.html#ref-reAct" role="doc-biblioref">[1]</a></span>—each with its own responsibility and scope—and a codebase oracle reserving the given project’s analyzed source code. An overview of OverHAuL’s process is presented in <a href="#fig-flowchart" class="quarto-xref">Figure&nbsp;<span>3.1</span></a>, detailed in <a href="#sec-architecture" class="quarto-xref"><span>Section 3.2</span></a>. The objective of OverHAuL is to streamline the process of fuzz testing for unfuzzed C libraries. Given a link to a git repository <span class="citation" data-cites="torvalds2005"><a href="refs.html#ref-torvalds2005" role="doc-biblioref">[2]</a></span> of a C library, OverHAuL automatically generates a new fuzzing harness specifically designed for the project. In addition to the harness, it produces a compilation script to facilitate building the harness, generates a representative input that can trigger crashes, and logs the output from the executed harness.</p>
<div id="fig-flowchart" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-scap="OverHAuL Workflow">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-flowchart-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="../resources/flowchart.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1" title="Figure&nbsp;3.1: Overview of OverHAuL’s automatic harnessing process."><img src="../resources/flowchart.png" class="img-fluid figure-img" data-fig-scap="OverHAuL Workflow"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-flowchart-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3.1: Overview of OverHAuL’s automatic harnessing process.
</figcaption>
</figure>
</div>
<p>OverHAuL utilizes autonomous ReAct agents which inspect and analyze the project’s source code. The latter is stored and interacted with as a set of text embeddings <span class="citation" data-cites="mikolov2013"><a href="refs.html#ref-mikolov2013" role="doc-biblioref">[3]</a></span>, kept in a vector store. Both approaches are, to the best of our knowledge, novel in the field of automatic fuzzing harnesses generation. OverHAuL also implements an evaluation component that assesses in real-time all generated harnesses, making the results tenable, reproducible and well-founded. Ideally, this methodology provides a comprehensive and systematic framework for identifying previously unknown software vulnerabilities in projects that have not yet been fuzz tested.</p>
<p>As detailed in <a href="related.html#sec-differences" class="quarto-xref"><span>Section 5.4</span></a>, OverHAuL does not expect and depend on the existence of client code or unit tests <span class="citation" data-cites="utopia fudge fuzzgen"><a href="refs.html#ref-utopia" role="doc-biblioref">[4]</a>, <a href="refs.html#ref-fudge" role="doc-biblioref">[5]</a>, <a href="refs.html#ref-fuzzgen" role="doc-biblioref">[6]</a></span> <em>nor</em> does it require any preexisting fuzzing harnesses <span class="citation" data-cites="oss-fuzz-gen"><a href="refs.html#ref-oss-fuzz-gen" role="doc-biblioref">[7]</a></span> or any documentation present <span class="citation" data-cites="sun2024"><a href="refs.html#ref-sun2024" role="doc-biblioref">[8]</a></span>. Also importantly, OverHAuL is decoupled from other fuzzing projects, thus lowering the barrier to entry for new projects <span class="citation" data-cites="oss-fuzz-gen oss-fuzz"><a href="refs.html#ref-oss-fuzz-gen" role="doc-biblioref">[7]</a>, <a href="refs.html#ref-oss-fuzz" role="doc-biblioref">[9]</a></span>. Lastly, the user isn’t mandated to manually specify the function which the harness-to-be-generated must fuzz. Instead, OverHAuL’s agents examine and assess the provided codebase, choosing after evaluation the most optimal target function.</p>
<p>Finally, OverHAuL excels in its user-friendliness, as it constitutes a simple and easily-installable Python package with minimal external dependencies—only real dependency being Clang, a prevalent compiler available across all primary operating systems. This contrasts most other comparable systems, which are typically characterized by their limited documentation, lack of extensive testing, and a focus primarily on experimental functionality.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></p>
<aside id="footnotes" class="footnotes footnotes-end-of-block" role="doc-footnote">
<ol>
<li id="fn1"><p>For instance, both fuzz-introspector and OSS-Fuzz-Gen are integrated by design to the OSS-Fuzz platform <span class="citation" data-cites="fuzz-introspector oss-fuzz-gen oss-fuzz"><a href="refs.html#ref-oss-fuzz-gen" role="doc-biblioref">[7]</a>, <a href="refs.html#ref-oss-fuzz" role="doc-biblioref">[9]</a>, <a href="refs.html#ref-fuzz-introspector" role="doc-biblioref">[10]</a></span>. When utilized outside this environment, they require users to operate directly from the project’s root directory and interact with the tools primarily through unrefined Python scripts, thereby limiting their accessibility and ease of use.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</aside>
<section id="sec-install" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="sec-install"><span class="header-section-number">3.1</span> Installation and Usage</h2>
<p>The source code of OverHAuL is available in <a href="https://github.com/kchousos/OverHAuL" class="uri">https://github.com/kchousos/OverHAuL</a>. OverHAuL can be installed by cloning the git repository locally, creating and enabling a Python3.10 virtual environment <span class="citation" data-cites="venv"><a href="refs.html#ref-venv" role="doc-biblioref">[11]</a></span> (optional, but recommended) and installing it inside the environment using Python’s PIP package installer <span class="citation" data-cites="pip"><a href="refs.html#ref-pip" role="doc-biblioref">[12]</a></span>, like in <a href="#lst-install" class="quarto-xref">Listing&nbsp;<span>3.1</span></a>.</p>
<div id="lst-install" class="listing quarto-float quarto-figure quarto-figure-left anchored" data-fig-scap="OverHAuL installation">
<figure class="quarto-float quarto-float-lst figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-lst" id="lst-install-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Listing&nbsp;3.1: OverHAuL’s straightforward installation process.
</figcaption>
<div aria-describedby="lst-install-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource text number-lines code-with-copy"><code class="sourceCode"><span id="cb1-1"><a href="#cb1-1"></a>$ git clone https://github.com/kchousos/overhaul; cd overhaul</span>
<span id="cb1-2"><a href="#cb1-2"></a>  ...</span>
<span id="cb1-3"><a href="#cb1-3"></a>$ python3.10 -m venv .venv</span>
<span id="cb1-4"><a href="#cb1-4"></a>$ source ./.venv/bin/activate</span>
<span id="cb1-5"><a href="#cb1-5"></a>$ pip install .</span>
<span id="cb1-6"><a href="#cb1-6"></a>  ...</span>
<span id="cb1-7"><a href="#cb1-7"></a>$ overhaul --help</span>
<span id="cb1-8"><a href="#cb1-8"></a>usage: overhaul [-h] [-c COMMIT] [-m MODEL] [-f FILES [FILES ...]] </span>
<span id="cb1-9"><a href="#cb1-9"></a>[-o OUTPUT_DIR] repo</span>
<span id="cb1-10"><a href="#cb1-10"></a></span>
<span id="cb1-11"><a href="#cb1-11"></a>Generate fuzzing harnesses for C/C++ projects</span>
<span id="cb1-12"><a href="#cb1-12"></a></span>
<span id="cb1-13"><a href="#cb1-13"></a>positional arguments:</span>
<span id="cb1-14"><a href="#cb1-14"></a>  repo                  Link of a project's git repo, for which to generate </span>
<span id="cb1-15"><a href="#cb1-15"></a>                        a harness.</span>
<span id="cb1-16"><a href="#cb1-16"></a></span>
<span id="cb1-17"><a href="#cb1-17"></a>options:</span>
<span id="cb1-18"><a href="#cb1-18"></a>  -h, --help            show this help message and exit</span>
<span id="cb1-19"><a href="#cb1-19"></a>  -c COMMIT, --commit COMMIT</span>
<span id="cb1-20"><a href="#cb1-20"></a>                        A specific commit of the project to check out</span>
<span id="cb1-21"><a href="#cb1-21"></a>  -m MODEL, --model MODEL</span>
<span id="cb1-22"><a href="#cb1-22"></a>                        LLM model to be used. Available: o3-mini, o3, gpt-4o,</span>
<span id="cb1-23"><a href="#cb1-23"></a>                        gpt-4o-mini, gpt-4.1, gpt-4.1-mini, gpt-3.5-turbo, gpt-4</span>
<span id="cb1-24"><a href="#cb1-24"></a>  -f FILES [FILES ...], --files FILES [FILES ...]</span>
<span id="cb1-25"><a href="#cb1-25"></a>                        File patterns to include in analysis (e.g. *.c *.h)</span>
<span id="cb1-26"><a href="#cb1-26"></a>  -o OUTPUT_DIR, --output-dir OUTPUT_DIR</span>
<span id="cb1-27"><a href="#cb1-27"></a>                        Directory to clone the project into. Defaults to "output"</span>
<span id="cb1-28"><a href="#cb1-28"></a>$</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</figure>
</div>
<p>To use OverHAuL, you need to provide a secret key for using OpenAI’s API service. This key can be either stored in a <code>.env</code> file in the root directory or exported in the shell environment:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode numberSource text number-lines code-with-copy"><code class="sourceCode"><span id="cb2-1"><a href="#cb2-1"></a>$ echo "OPENAI_API_KEY=&lt;API-key-here&gt;" &gt;&gt; .env</span>
<span id="cb2-2"><a href="#cb2-2"></a># OR</span>
<span id="cb2-3"><a href="#cb2-3"></a>$ export OPENAI_API_KEY=&lt;API-key-here&gt;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Once these preliminary steps are completed, OverHAuL can be executed. The primary argument required by OverHAuL is the repository link of the library that is to be fuzzed. Additionally, users have the option to specify certain command-line flags, which allow them to control the checked-out commit of the cloned project, select the OpenAI LLM model from a predefined list, define specific file patterns for OverHAuL to search for, and determine the directory in which the project will be cloned. For a concrete example, we will use OverHAuL to create a new fuzzing harness for <a href="https://github.com/dvhar/dateparse">dvhar’s dateparsing C library</a> and specify the LLM model to OpenAI’s gpt-4.1 model. The resulting command and its output is presented in <a href="#fig-success" class="quarto-xref">Figure&nbsp;<span>3.2</span></a>.</p>
<div id="fig-success" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-scap="OverHAuL execution on dateparse">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-success-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="../resources/successful-execution.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2" title="Figure&nbsp;3.2: A successful execution of OverHAuL, harnessing the “dateparse” library using OpenAI’s gpt-4.1 model. Debug statements are printed to showcase the queries of the LLM agents to the codebase oracle (sec-oracle)."><img src="../resources/successful-execution.png" class="img-fluid figure-img" data-fig-scap="OverHAuL execution on dateparse"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-success-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3.2: A successful execution of OverHAuL, harnessing the “dateparse” library using OpenAI’s gpt-4.1 model. Debug statements are printed to showcase the queries of the LLM agents to the codebase oracle (<a href="#sec-oracle" class="quarto-xref"><span>Section 3.3.3</span></a>).
</figcaption>
</figure>
</div>
<p>In this example, the dateparse repository is cloned into the <code>./output/dateparse</code> directory, which is relative to the root directory of OverHAuL. Following a successful execution, the project’s directory will contain a new folder named <code>harnesses</code>, which will house all the generated harnesses formatted as <code>harness_n.c</code>—where <span class="math inline">n</span> ranges from 1 to <span class="math inline">N-1</span>, with <span class="math inline">N</span> representing the total number of harnesses produced. The most recent and verifiably correct harness will be designated simply as <code>harness.c</code>. Additionally, the dateparse folder will include an executable script named <code>overhaul.sh</code>, which contains the compilation command necessary for the harness. A log file titled <code>harness.out</code> will also be present, documenting the output from the latest harness execution. Lastly and most importantly, there will be at least one non-empty crash file included, serving as a witness to the harness’s correctness. In the following sections, the intermediary steps between invocation and completion are disected and analyzed. The dateparse project is used as a running example.</p>
</section>
<section id="sec-architecture" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="sec-architecture"><span class="header-section-number">3.2</span> Architecture</h2>
<p>OverHAuL can be compartmentalized in three stages: First, the project analysis stage (<a href="#sec-analysis" class="quarto-xref"><span>Section 3.2.1</span></a>), the harness creation stage (<a href="#sec-creation" class="quarto-xref"><span>Section 3.2.2</span></a>) and the harness evaluation stage (<a href="#sec-evaluation" class="quarto-xref"><span>Section 3.2.3</span></a>).</p>
<section id="sec-analysis" class="level3" data-number="3.2.1">
<h3 data-number="3.2.1" class="anchored" data-anchor-id="sec-analysis"><span class="header-section-number">3.2.1</span> Project Analysis</h3>
<p>In the project analysis stage (steps A.1–A.4), dateparse is ran through a static analysis tool named Flawfinder <span class="citation" data-cites="flawfinder"><a href="refs.html#ref-flawfinder" role="doc-biblioref">[13]</a></span> and is sliced into function-level chunks, which are stored in a vector store. The results of this stage are a <em>static analysis report</em> and a <em>codebase oracle</em>, i.e.&nbsp;a vector store containing embeddings of function-level code chunks. Both resources are later available to the LLM agents. Flawfinder is executed with the dateparse directory as input and is responsible for the static analysis report. This report is considered a meaningful resource, since it provides the LLM agent responsible with the harness creation with some starting points to explore, regarding the occurrences of potentially vulnerable functions and/or unsafe code practices. Part of dateparse’s static analysis report is shown in <a href="#lst-static" class="quarto-xref">Listing&nbsp;<span>3.2</span></a>.</p>
<div id="lst-static" class="listing quarto-float quarto-figure quarto-figure-left anchored" data-fig-scap="Static analysis report">
<figure class="quarto-float quarto-float-lst figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-lst" id="lst-static-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Listing&nbsp;3.2: Static analysis report (Flawfinder output) of dateparse.
</figcaption>
<div aria-describedby="lst-static-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource text number-lines code-with-copy"><code class="sourceCode"><span id="cb3-1"><a href="#cb3-1"></a>Flawfinder version 2.0.19, (C) 2001-2019 David A. Wheeler.</span>
<span id="cb3-2"><a href="#cb3-2"></a>Number of rules (primarily dangerous function names) in C/C++ ruleset: 222</span>
<span id="cb3-3"><a href="#cb3-3"></a>Examining ./dateparse.c</span>
<span id="cb3-4"><a href="#cb3-4"></a>Examining ./dateparse.h</span>
<span id="cb3-5"><a href="#cb3-5"></a>Examining ./test.c</span>
<span id="cb3-6"><a href="#cb3-6"></a></span>
<span id="cb3-7"><a href="#cb3-7"></a>FINAL RESULTS:</span>
<span id="cb3-8"><a href="#cb3-8"></a></span>
<span id="cb3-9"><a href="#cb3-9"></a>./dateparse.c:405:  [4] (buffer) strcpy:</span>
<span id="cb3-10"><a href="#cb3-10"></a>  Does not check for buffer overflows when copying to destination [MS-banned]</span>
<span id="cb3-11"><a href="#cb3-11"></a>  (CWE-120). Consider using snprintf, strcpy_s, or strlcpy (warning: strncpy</span>
<span id="cb3-12"><a href="#cb3-12"></a>  easily misused).</span>
<span id="cb3-13"><a href="#cb3-13"></a></span>
<span id="cb3-14"><a href="#cb3-14"></a>......</span>
<span id="cb3-15"><a href="#cb3-15"></a></span>
<span id="cb3-16"><a href="#cb3-16"></a>./dateparse.c:2192:  [1] (buffer) strlen:</span>
<span id="cb3-17"><a href="#cb3-17"></a>  Does not handle strings that are not \0-terminated; if given one it may</span>
<span id="cb3-18"><a href="#cb3-18"></a>  perform an over-read (it could cause a crash if unprotected) (CWE-126).</span>
<span id="cb3-19"><a href="#cb3-19"></a></span>
<span id="cb3-20"><a href="#cb3-20"></a>ANALYSIS SUMMARY:</span>
<span id="cb3-21"><a href="#cb3-21"></a></span>
<span id="cb3-22"><a href="#cb3-22"></a>Hits = 64</span>
<span id="cb3-23"><a href="#cb3-23"></a>Lines analyzed = 2719 in approximately 0.04 seconds (61234 lines/second)</span>
<span id="cb3-24"><a href="#cb3-24"></a>Physical Source Lines of Code (SLOC) = 1966</span>
<span id="cb3-25"><a href="#cb3-25"></a>Hits@level = [0]  15 [1]  28 [2]  31 [3]   0 [4]   5 [5]   0</span>
<span id="cb3-26"><a href="#cb3-26"></a>Hits@level+ = [0+]  79 [1+]  64 [2+]  36 [3+]   5 [4+]   5 [5+]   0</span>
<span id="cb3-27"><a href="#cb3-27"></a>Hits/KSLOC@level+ = [0+] 40.1831 [1+] 32.5534 [2+] 18.3113 [3+] 2.54323</span>
<span id="cb3-28"><a href="#cb3-28"></a>    [4+] 2.54323 [5+]   0</span>
<span id="cb3-29"><a href="#cb3-29"></a>Dot directories skipped = 1 (--followdotdir overrides)</span>
<span id="cb3-30"><a href="#cb3-30"></a>Minimum risk level = 1</span>
<span id="cb3-31"><a href="#cb3-31"></a></span>
<span id="cb3-32"><a href="#cb3-32"></a>Not every hit is necessarily a security vulnerability.</span>
<span id="cb3-33"><a href="#cb3-33"></a>You can inhibit a report by adding a comment in this form:</span>
<span id="cb3-34"><a href="#cb3-34"></a>// flawfinder: ignore</span>
<span id="cb3-35"><a href="#cb3-35"></a>Make *sure* it's a false positive!</span>
<span id="cb3-36"><a href="#cb3-36"></a>You can use the option --neverignore to show these.</span>
<span id="cb3-37"><a href="#cb3-37"></a></span>
<span id="cb3-38"><a href="#cb3-38"></a>There may be other security vulnerabilities; review your code!</span>
<span id="cb3-39"><a href="#cb3-39"></a>See 'Secure Programming HOWTO'</span>
<span id="cb3-40"><a href="#cb3-40"></a>(https://dwheeler.com/secure-programs) for more information.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</figure>
</div>
<p>The codebase oracle is created in the following manner: The source code is first chunked in function-level pieces by traversing the code’s Abstract Syntax Tree (AST) through Clang. Each chunk is represented by an object with the function’s signature, the corresponding filepath and the function’s body (see <a href="#lst-chunks" class="quarto-xref">Listing&nbsp;<span>3.3</span></a>). Afterwards, each function body is turned into a vector embedding through an embedding model. Each embedding is stored in the vector store. This structure is created and used for easier and more semantically meaningful code retrieval, and to also combat context window limitations present in LLMs.</p>
<div id="lst-chunks" class="listing quarto-float quarto-figure quarto-figure-left anchored" data-fig-scap="Codebase oracle samples">
<figure class="quarto-float quarto-float-lst figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-lst" id="lst-chunks-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Listing&nbsp;3.3: Sample chunks contained in dateparse’s codebase oracle.
</figcaption>
<div aria-describedby="lst-chunks-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="sourceCode" id="cb4"><pre class="sourceCode numberSource c number-lines code-with-copy"><code class="sourceCode c"><span id="cb4-1"><a href="#cb4-1"></a>File<span class="op">:</span> dateparse<span class="op">/</span>dateparse<span class="op">.</span>c</span>
<span id="cb4-2"><a href="#cb4-2"></a>Signature<span class="op">:</span> <span class="dt">void</span> <span class="op">(</span><span class="kw">struct</span> parser <span class="op">*,</span> <span class="dt">int</span><span class="op">,</span> <span class="dt">int</span><span class="op">)</span></span>
<span id="cb4-3"><a href="#cb4-3"></a>Code<span class="op">:</span></span>
<span id="cb4-4"><a href="#cb4-4"></a><span class="dt">static</span> <span class="dt">void</span> setOffset<span class="op">(</span><span class="kw">struct</span> parser<span class="op">*</span> p<span class="op">,</span> <span class="dt">int</span> i<span class="op">,</span> <span class="dt">int</span> len<span class="op">){</span></span>
<span id="cb4-5"><a href="#cb4-5"></a>        strncpy<span class="op">(</span>p<span class="op">-&gt;</span>offsetbuf<span class="op">,</span> p<span class="op">-&gt;</span>datestr<span class="op">+</span>i<span class="op">,</span> len<span class="op">);</span></span>
<span id="cb4-6"><a href="#cb4-6"></a>        p<span class="op">-&gt;</span>offsetbuf<span class="op">[</span>len<span class="op">]</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb4-7"><a href="#cb4-7"></a><span class="op">}</span></span>
<span id="cb4-8"><a href="#cb4-8"></a></span>
<span id="cb4-9"><a href="#cb4-9"></a></span>
<span id="cb4-10"><a href="#cb4-10"></a>File<span class="op">:</span> dateparse<span class="op">/</span>dateparse<span class="op">.</span>c</span>
<span id="cb4-11"><a href="#cb4-11"></a>Signature<span class="op">:</span> <span class="dt">void</span> <span class="op">(</span><span class="kw">struct</span> parser <span class="op">*,</span> <span class="dt">char</span> <span class="op">*)</span></span>
<span id="cb4-12"><a href="#cb4-12"></a>Code<span class="op">:</span></span>
<span id="cb4-13"><a href="#cb4-13"></a><span class="dt">static</span> <span class="dt">void</span> setFullMonth<span class="op">(</span><span class="kw">struct</span> parser<span class="op">*</span> p<span class="op">,</span> <span class="dt">char</span><span class="op">*</span> month<span class="op">){</span></span>
<span id="cb4-14"><a href="#cb4-14"></a>        strcpy<span class="op">(</span>p<span class="op">-&gt;</span>mobuf<span class="op">,</span> month<span class="op">);</span></span>
<span id="cb4-15"><a href="#cb4-15"></a><span class="op">}</span></span>
<span id="cb4-16"><a href="#cb4-16"></a></span>
<span id="cb4-17"><a href="#cb4-17"></a></span>
<span id="cb4-18"><a href="#cb4-18"></a>File<span class="op">:</span> dateparse<span class="op">/</span>dateparse<span class="op">.</span>c</span>
<span id="cb4-19"><a href="#cb4-19"></a>Signature<span class="op">:</span> <span class="dt">int</span> <span class="op">(</span><span class="dt">const</span> <span class="dt">char</span> <span class="op">*,</span> <span class="dt">long</span> <span class="dt">long</span> <span class="op">*,</span> <span class="dt">int</span> <span class="op">*,</span> <span class="dt">int</span><span class="op">)</span></span>
<span id="cb4-20"><a href="#cb4-20"></a>Code<span class="op">:</span></span>
<span id="cb4-21"><a href="#cb4-21"></a><span class="dt">int</span> dateparse<span class="op">(</span><span class="dt">const</span> <span class="dt">char</span><span class="op">*</span> datestr<span class="op">,</span> date_t<span class="op">*</span> t<span class="op">,</span> <span class="dt">int</span> <span class="op">*</span>offset<span class="op">,</span> <span class="dt">int</span> stringlen<span class="op">){</span></span>
<span id="cb4-22"><a href="#cb4-22"></a>        <span class="kw">struct</span> parser p<span class="op">;</span></span>
<span id="cb4-23"><a href="#cb4-23"></a>        <span class="op">*</span>t <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb4-24"><a href="#cb4-24"></a>        <span class="cf">if</span> <span class="op">(!</span>stringlen<span class="op">)</span></span>
<span id="cb4-25"><a href="#cb4-25"></a>                stringlen <span class="op">=</span> strlen<span class="op">(</span>datestr<span class="op">);</span></span>
<span id="cb4-26"><a href="#cb4-26"></a>        <span class="cf">if</span> <span class="op">(</span>parseTime<span class="op">(</span>datestr<span class="op">,</span> <span class="op">&amp;</span>p<span class="op">,</span> stringlen<span class="op">))</span></span>
<span id="cb4-27"><a href="#cb4-27"></a>                <span class="cf">return</span> <span class="op">-</span><span class="dv">1</span><span class="op">;</span></span>
<span id="cb4-28"><a href="#cb4-28"></a>        <span class="cf">return</span> parse<span class="op">(&amp;</span>p<span class="op">,</span> t<span class="op">,</span> offset<span class="op">);</span></span>
<span id="cb4-29"><a href="#cb4-29"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</figure>
</div>
</section>
<section id="sec-creation" class="level3" data-number="3.2.2">
<h3 data-number="3.2.2" class="anchored" data-anchor-id="sec-creation"><span class="header-section-number">3.2.2</span> Harness Creation</h3>
<p>Second is the harness creation stage (steps B.1–B.2). In this part, a “generator” ReAct LLM agent is tasked with creating a fuzzing harness for the project. The agent has access to a querying tool that acts as an interface between it and the codebase oracle. When the agent makes queries like “functions containing <code>strcpy()</code>”, the querying tool turns the question into an embedding and through similarity search returns the top <span class="math inline">k=5</span> most similar results—in this case, functions of the project. With this approach, the agent is able to explore the codebase semantically and pinpoint potentially vulnerable usage patterns easily.</p>
<p>The harness generated by the agent is then compiled using Clang and linked with the AddressSanitizer, LeakSanitizer, and UndefinedBehaviorSanitizer. The compilation command used is generated programmatically, according to the rules described in <a href="#sec-scope" class="quarto-xref"><span>Section 3.5</span></a>. If the compilation fails for any reason, e.g.&nbsp;a missing header include, then the generated faulty harness and its compilation output are passed to a new “fixer” agent tasked with repairing any errors in the harness (step B.2.a). This results in a newly generated harness, presumably free from the previously shown flaws. This process is iterated until a compilable harness has been obtained. After success, a script is also exported in the project directory, containing the generated compilation command. Dateparse’s compilation command is shown in <a href="#lst-compilation" class="quarto-xref">Listing&nbsp;<span>3.4</span></a>.</p>
<div id="lst-compilation" class="listing quarto-float quarto-figure quarto-figure-left anchored" data-fig-scap="Generated compilation command">
<figure class="quarto-float quarto-float-lst figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-lst" id="lst-compilation-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Listing&nbsp;3.4: OverHAuL’s generated compilation command for dateparse.
</figcaption>
<div aria-describedby="lst-compilation-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="sourceCode" id="cb5"><pre class="sourceCode numberSource sh number-lines code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1"></a><span class="co"># cat ./overhaul.sh</span></span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="fu">clang</span> <span class="at">-g</span> <span class="at">-fsanitize</span><span class="op">=</span>fuzzer,address,undefined harnesses/harness.c <span class="at">-I</span> . </span>
<span id="cb5-3"><a href="#cb5-3"></a> <span class="ex">dateparse.c</span> <span class="at">-o</span> harness</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</figure>
</div>
</section>
<section id="sec-evaluation" class="level3" data-number="3.2.3">
<h3 data-number="3.2.3" class="anchored" data-anchor-id="sec-evaluation"><span class="header-section-number">3.2.3</span> Harness Evaluation</h3>
<p>Third comes the evaluation stage (steps C.1–C.3). During this step, the compiled harness is executed and its results evaluated. Namely, a generated harness passes the evaluation phase if and only if:</p>
<ol type="1">
<li><p>The harness has no memory leaks during its execution</p>
<p>This is inferred by the existence of <code>leak-&lt;hash&gt;</code> files.</p></li>
<li><p>A new testcase was created <em>or</em> the harness executed for at least <code>MIN_EXECUTION_TIME</code> (i.e.&nbsp;did not crash on its own)</p>
<p>When a crash happens, and thus a testcase is created, it results in a <code>crash-&lt;hash&gt;</code> file.</p></li>
<li><p>The created testcase is not empty</p>
<p>This is examined through <code>xxd</code>’s output given the crash-file.</p></li>
</ol>
<p>Similarly to the second stage’s compilation phase (steps B.2–B.2.a), if a harness does not pass the evaluation for whatever reason it is sent to an “improver” agent. This agent is instructed to refine it based on its code and cause of failing the evaluation. This process is also iterative. If any of the improved harness versions fail to compile, the aforementioned “fixer” agent is utilized again (steps C.2–C.2.a). All produced crash files and the harness execution output are saved in the project’s directory. An evaluation-passing harness generated for the dateparse project is presented in <a href="#lst-harness" class="quarto-xref">Listing&nbsp;<span>3.5</span></a>, along with the associated crash input and execution output displayed in <a href="#lst-input" class="quarto-xref">Listing&nbsp;<span>3.6</span></a> and <a href="#lst-output" class="quarto-xref">Listing&nbsp;<span>3.7</span></a>, respectively.</p>
<div id="lst-harness" class="listing quarto-float quarto-figure quarto-figure-left anchored" data-fig-scap="Sample dateparse harness">
<figure class="quarto-float quarto-float-lst figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-lst" id="lst-harness-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Listing&nbsp;3.5: A crash-finding harness for dateparse, generated through OverHAuL (some comments were removed).
</figcaption>
<div aria-describedby="lst-harness-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="sourceCode" id="cb6"><pre class="sourceCode numberSource c number-lines code-with-copy"><code class="sourceCode c"><span id="cb6-1"><a href="#cb6-1"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="pp">#include </span><span class="im">&lt;string.h&gt;</span></span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="pp">#include </span><span class="im">&lt;stdint.h&gt;</span></span>
<span id="cb6-4"><a href="#cb6-4"></a><span class="pp">#include </span><span class="im">"dateparse.h"</span></span>
<span id="cb6-5"><a href="#cb6-5"></a></span>
<span id="cb6-6"><a href="#cb6-6"></a><span class="co">// ...</span></span>
<span id="cb6-7"><a href="#cb6-7"></a><span class="kw">struct</span> parser <span class="op">{</span></span>
<span id="cb6-8"><a href="#cb6-8"></a>    <span class="dt">char</span> mobuf<span class="op">[</span><span class="dv">16</span><span class="op">];</span></span>
<span id="cb6-9"><a href="#cb6-9"></a><span class="op">};</span></span>
<span id="cb6-10"><a href="#cb6-10"></a></span>
<span id="cb6-11"><a href="#cb6-11"></a><span class="co">// ...</span></span>
<span id="cb6-12"><a href="#cb6-12"></a><span class="dt">static</span> <span class="dt">void</span> setFullMonth<span class="op">(</span><span class="kw">struct</span> parser<span class="op">*</span> p<span class="op">,</span> <span class="dt">char</span><span class="op">*</span> month<span class="op">){</span></span>
<span id="cb6-13"><a href="#cb6-13"></a>    strcpy<span class="op">(</span>p<span class="op">-&gt;</span>mobuf<span class="op">,</span> month<span class="op">);</span></span>
<span id="cb6-14"><a href="#cb6-14"></a><span class="op">}</span></span>
<span id="cb6-15"><a href="#cb6-15"></a></span>
<span id="cb6-16"><a href="#cb6-16"></a><span class="dt">int</span> LLVMFuzzerTestOneInput<span class="op">(</span><span class="dt">const</span> <span class="dt">uint8_t</span> <span class="op">*</span>data<span class="op">,</span> <span class="dt">size_t</span> size<span class="op">)</span> <span class="op">{</span></span>
<span id="cb6-17"><a href="#cb6-17"></a>    <span class="co">// Allocate a parser instance on the heap.</span></span>
<span id="cb6-18"><a href="#cb6-18"></a>    <span class="kw">struct</span> parser <span class="op">*</span>p <span class="op">=</span> <span class="op">(</span><span class="kw">struct</span> parser<span class="op">*)</span>malloc<span class="op">(</span><span class="kw">sizeof</span><span class="op">(</span><span class="kw">struct</span> parser<span class="op">));</span></span>
<span id="cb6-19"><a href="#cb6-19"></a>    <span class="cf">if</span> <span class="op">(!</span>p<span class="op">)</span> <span class="op">{</span></span>
<span id="cb6-20"><a href="#cb6-20"></a>        <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb6-21"><a href="#cb6-21"></a>    <span class="op">}</span></span>
<span id="cb6-22"><a href="#cb6-22"></a>    <span class="co">// Initialize parser with zeros.</span></span>
<span id="cb6-23"><a href="#cb6-23"></a>    memset<span class="op">(</span>p<span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="kw">sizeof</span><span class="op">(</span><span class="kw">struct</span> parser<span class="op">));</span></span>
<span id="cb6-24"><a href="#cb6-24"></a>    <span class="co">// Prepare month string input: ensure null-terminated string for strcpy.</span></span>
<span id="cb6-25"><a href="#cb6-25"></a>    <span class="dt">char</span> <span class="op">*</span>month <span class="op">=</span> <span class="op">(</span><span class="dt">char</span><span class="op">*)</span>malloc<span class="op">(</span>size <span class="op">+</span> <span class="dv">1</span><span class="op">);</span></span>
<span id="cb6-26"><a href="#cb6-26"></a>    <span class="cf">if</span> <span class="op">(!</span>month<span class="op">)</span> <span class="op">{</span></span>
<span id="cb6-27"><a href="#cb6-27"></a>        free<span class="op">(</span>p<span class="op">);</span></span>
<span id="cb6-28"><a href="#cb6-28"></a>        <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb6-29"><a href="#cb6-29"></a>    <span class="op">}</span></span>
<span id="cb6-30"><a href="#cb6-30"></a>    memcpy<span class="op">(</span>month<span class="op">,</span> data<span class="op">,</span> size<span class="op">);</span></span>
<span id="cb6-31"><a href="#cb6-31"></a>    month<span class="op">[</span>size<span class="op">]</span> <span class="op">=</span> <span class="ch">'</span><span class="sc">\0</span><span class="ch">'</span><span class="op">;</span>  <span class="co">// Null terminate to avoid overread in strcpy.</span></span>
<span id="cb6-32"><a href="#cb6-32"></a>    <span class="co">// Call the vulnerable function with fuzzed month string.</span></span>
<span id="cb6-33"><a href="#cb6-33"></a>    setFullMonth<span class="op">(</span>p<span class="op">,</span> month<span class="op">);</span></span>
<span id="cb6-34"><a href="#cb6-34"></a>    <span class="co">// Cleanup</span></span>
<span id="cb6-35"><a href="#cb6-35"></a>    free<span class="op">(</span>month<span class="op">);</span></span>
<span id="cb6-36"><a href="#cb6-36"></a>    free<span class="op">(</span>p<span class="op">);</span></span>
<span id="cb6-37"><a href="#cb6-37"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb6-38"><a href="#cb6-38"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</figure>
</div>
<div id="lst-input" class="listing quarto-float quarto-figure quarto-figure-left anchored" data-fig-scap="Sample dateparse crash input">
<figure class="quarto-float quarto-float-lst figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-lst" id="lst-input-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Listing&nbsp;3.6: An input string that crashes the harness in <a href="#lst-harness" class="quarto-xref">Listing&nbsp;<span>3.5</span></a>. What is shown is its <code>xxd</code> output.
</figcaption>
<div aria-describedby="lst-input-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<pre><code>00000000: 315e 5e5e 5e5e 5e5e 5e5e 5e5e 5e5e 5e5e  1^^^^^^^^^^^^^^^
00000010: 0a                                       .</code></pre>
</div>
</figure>
</div>
<div id="lst-output" class="listing quarto-float quarto-figure quarto-figure-left anchored" data-fig-scap="Sample dateparse harness output">
<figure class="quarto-float quarto-float-lst figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-lst" id="lst-output-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Listing&nbsp;3.7: The output of the harness in <a href="#lst-harness" class="quarto-xref">Listing&nbsp;<span>3.5</span></a> when executed with <a href="#lst-input" class="quarto-xref">Listing&nbsp;<span>3.6</span></a> as input.
</figcaption>
<div aria-describedby="lst-output-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="sourceCode" id="cb8"><pre class="sourceCode numberSource text number-lines code-with-copy"><code class="sourceCode"><span id="cb8-1"><a href="#cb8-1"></a>INFO: Running with entropic power schedule (0xFF, 100).</span>
<span id="cb8-2"><a href="#cb8-2"></a>INFO: Seed: 2365219758</span>
<span id="cb8-3"><a href="#cb8-3"></a>INFO: Loaded 1 modules   (3723 inline 8-bit counters): 3723 [0x67ccc0,</span>
<span id="cb8-4"><a href="#cb8-4"></a>      0x67db4b),</span>
<span id="cb8-5"><a href="#cb8-5"></a>INFO: Loaded 1 PC tables (3723 PCs): 3723 [0x618d40,0x6275f0),</span>
<span id="cb8-6"><a href="#cb8-6"></a>./harness: Running 1 inputs 1 time(s) each.</span>
<span id="cb8-7"><a href="#cb8-7"></a>Running: crash-7fd6f4dd5d39420d6f7887ff995b4e855ae90c16</span>
<span id="cb8-8"><a href="#cb8-8"></a>=================================================================</span>
<span id="cb8-9"><a href="#cb8-9"></a>==10973==ERROR: AddressSanitizer: heap-buffer-overflow on address</span>
<span id="cb8-10"><a href="#cb8-10"></a>0x7bcece9e00a0 at pc 0x000000526c0e bp 0x7fff3dc0aa20 sp 0x7fff3dc0a1d8</span>
<span id="cb8-11"><a href="#cb8-11"></a>WRITE of size 18 at 0x7bcece9e00a0 thread T0</span>
<span id="cb8-12"><a href="#cb8-12"></a>    #0 0x000000526c0d in strcpy</span>
<span id="cb8-13"><a href="#cb8-13"></a>       (/home/kchou/Bin/Repos/kchousos/OverHAuL/output/dateparse/harness</span>
<span id="cb8-14"><a href="#cb8-14"></a>       +0x526c0d) (BuildId: d658684b8726dc7e8e768089710d13c96cfc81f0)</span>
<span id="cb8-15"><a href="#cb8-15"></a>    #1 0x000000585555 in setFullMonth</span>
<span id="cb8-16"><a href="#cb8-16"></a>       /home/kchou/Bin/Repos/kchousos/OverHAuL/output/dateparse/harnesses</span>
<span id="cb8-17"><a href="#cb8-17"></a>       /harness.c:18:2</span>
<span id="cb8-18"><a href="#cb8-18"></a>    #2 0x0000005853fd in LLVMFuzzerTestOneInput</span>
<span id="cb8-19"><a href="#cb8-19"></a>       /home/kchou/Bin/Repos/kchousos/OverHAuL/output/dateparse/harnesses</span>
<span id="cb8-20"><a href="#cb8-20"></a>       /harness.c:41:2</span>
<span id="cb8-21"><a href="#cb8-21"></a>...</span>
<span id="cb8-22"><a href="#cb8-22"></a>SUMMARY: AddressSanitizer: heap-buffer-overflow</span>
<span id="cb8-23"><a href="#cb8-23"></a>         (/home/kchou/Bin/Repos/kchousos/OverHAuL/output/dateparse/harness</span>
<span id="cb8-24"><a href="#cb8-24"></a>         +0x526c0d) (BuildId: d658684b8726dc7e8e768089710d13c96cfc81f0) in</span>
<span id="cb8-25"><a href="#cb8-25"></a>         strcpy</span>
<span id="cb8-26"><a href="#cb8-26"></a>Shadow bytes around the buggy address:</span>
<span id="cb8-27"><a href="#cb8-27"></a>  0x7bcece9dfe00: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00</span>
<span id="cb8-28"><a href="#cb8-28"></a>  0x7bcece9dfe80: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00</span>
<span id="cb8-29"><a href="#cb8-29"></a>  0x7bcece9dff00: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00</span>
<span id="cb8-30"><a href="#cb8-30"></a>  0x7bcece9dff80: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00</span>
<span id="cb8-31"><a href="#cb8-31"></a>  0x7bcece9e0000: fa fa 00 00 fa fa 00 fa fa fa 00 fa fa fa 00 fa</span>
<span id="cb8-32"><a href="#cb8-32"></a>=&gt;0x7bcece9e0080: fa fa 00 00[fa]fa fa fa fa fa fa fa fa fa fa fa</span>
<span id="cb8-33"><a href="#cb8-33"></a>  0x7bcece9e0100: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa</span>
<span id="cb8-34"><a href="#cb8-34"></a>  0x7bcece9e0180: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa</span>
<span id="cb8-35"><a href="#cb8-35"></a>  0x7bcece9e0200: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa</span>
<span id="cb8-36"><a href="#cb8-36"></a>  0x7bcece9e0280: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa</span>
<span id="cb8-37"><a href="#cb8-37"></a>  0x7bcece9e0300: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa</span>
<span id="cb8-38"><a href="#cb8-38"></a>Shadow byte legend (one shadow byte represents 8 application bytes):</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</figure>
</div>
</section>
</section>
<section id="sec-techniques" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="sec-techniques"><span class="header-section-number">3.3</span> OverHAuL Techniques</h2>
<p>The fundamental techniques that distinguish OverHAuL in its approach and enhance its effectiveness in achieving its objectives are: The implementation of an iterative feedback loop between the LLM agents, the distribution of responsibility across a triplet of distinct agents and the employment of a “codebase oracle” for interacting with the given project’s source code.</p>
<section id="sec-loop" class="level3" data-number="3.3.1">
<h3 data-number="3.3.1" class="anchored" data-anchor-id="sec-loop"><span class="header-section-number">3.3.1</span> Feedback Loop</h3>
<p>The initial generated harness produced by OverHAuL is unlikely to be successful from the get-go. The iterative feedback loop implemented facilitates its enhancement, enabling the harness to be tested under real-world conditions and subsequently refined based on the results of these tests. This approach mirrors the typical workflow employed by developers in the process of creating and optimizing fuzz targets.</p>
<p>In this iterative framework, the development process continues until either an acceptable and functional harness is realized or the defined <em>iteration budget</em> is exhausted. The iteration budget <span class="math inline">N=10</span> is initialized at the onset of OverHAuL’s execution and is shared between both the compilation and evaluation phases of the harness development process. This means that the iteration budget is decremented each time a dashed arrow in the flowchart illustrated in <a href="#fig-flowchart" class="quarto-xref">Figure&nbsp;<span>3.1</span></a> is followed. Such an approach allows for targeted improvements while maintaining oversight of resource allocation throughout the harness development cycle.</p>
</section>
<section id="react-agents-triplet" class="level3" data-number="3.3.2">
<h3 data-number="3.3.2" class="anchored" data-anchor-id="react-agents-triplet"><span class="header-section-number">3.3.2</span> React Agents Triplet</h3>
<p>An integral design decision in our framework is the implementation of each agent as a distinct LLM instance, although all utilizing the same underlying model. This approach yields several advantages, particularly in the context of maintaining separate and independent contexts for each agent throughout each OverHAuL run.</p>
<p>By assigning individual contexts to the agents, we enable a broader exploration of possibilities during each run. For instance, the “improver” agent can investigate alternative pathways or strategies that the “generator” agent may have potentially overlooked or internally deemed inadequate inaccurately. This separation not only fosters a more diverse range of solutions but also enhances the overall robustness of the system by allowing for iterative refinement based on each agent’s unique insights.</p>
<p>Furthermore, this design choice effectively addresses the limitations imposed by context window sizes. By distributing the “cognitive” load across multiple agents, we can manage and mitigate the risks associated with exceeding these constraints. As a result, this architecture promotes efficient utilization of available resources while maximizing the potential for innovative outcomes in multi-agent interactions. This layered approach ultimately contributes to a more dynamic and exploratory research environment, facilitating a comprehensive examination of the problem space.</p>
</section>
<section id="sec-oracle" class="level3" data-number="3.3.3">
<h3 data-number="3.3.3" class="anchored" data-anchor-id="sec-oracle"><span class="header-section-number">3.3.3</span> Codebase Oracle</h3>
<p>The third central technique employed is the creation and utilization of a codebase oracle, which is effectively realized through a vector store. This oracle is designed to contain the various functions within the project, enabling it to return the most semantically similar functions upon querying it. Such an approach serves to address the inherent challenges associated with code exploration difficulties faced by LLM agents, particularly in relation to their limited context window.</p>
<p>By structuring the codebase into chunks at the level of individual functions, LLM agents can engage with the code more effectively by focusing on its functional components. This methodology not only allows for a more nuanced understanding of the codebase but also ensures that the responses generated do not consume an excessive portion of the limited context window available to the agents. In contrast, if the codebase were organized and queried at the file level, the chunks of information would inevitably become larger, leading to an increase in noise and a dilution of meaningful content in each chunk <span class="citation" data-cites="zhao2024"><a href="refs.html#ref-zhao2024" role="doc-biblioref">[14]</a></span>. Given the constant size of the embeddings used in processing, each progressively larger chunk would be less semantically significant, ultimately compromising the quality of the retrieval process.</p>
<p>Defining the function as the primary unit of analysis represents the most proportionate balance between the size of the code segments and their semantic significance. It serves as the ideal “zoom-in” level for the exploration of code, allowing for greater clarity and precision in understanding the functionality of individual code segments. This same principle is widely recognized in the training of code-specific LLMs, where a function-level approach has been shown to enhance performance and comprehension <span class="citation" data-cites="chen2021"><a href="refs.html#ref-chen2021" role="doc-biblioref">[15]</a></span>. By adopting this methodology, we aim to foster a more robust interaction between LLM agents and the underlying codebase, ultimately facilitating a more effective and efficient exploration process.</p>
</section>
</section>
<section id="high-level-algorithm" class="level2" data-number="3.4">
<h2 data-number="3.4" class="anchored" data-anchor-id="high-level-algorithm"><span class="header-section-number">3.4</span> High-Level Algorithm</h2>
<p>A pseudocode version of OverHAuL’s main function is shown in <a href="#alg-main" class="quarto-xref">Algorithm 1</a>, illustrating the workflow depicted in <a href="#fig-flowchart" class="quarto-xref">Figure&nbsp;<span>3.1</span></a> and incorporating the methods explained in Sections <a href="#sec-architecture" class="quarto-xref"><span>3.2</span></a> and <a href="#sec-techniques" class="quarto-xref"><span>3.3</span></a>. Notably, within this algorithm, the <code>HarnessAgents()</code> function acts as an interface that connects the “generator”, “fixer”, and “improver” LLM agents. The specific agent utilized during each invocation of <code>HarnessAgents()</code> depends on the function’s arguments. As a result, the <span class="math inline">harness</span> variable encapsulates all generated, fixed, or improved harnesses. Since both the “fixer” and “generator” agents are accessed through the <code>HarnessAgents()</code> function, the related <code>continue</code> statements correspond to the next iterations of fixing or improving a harness. This design choice streamlines the overall algorithm, making it more abstract and easier to comprehend.</p>
<div id="alg-main" class="pseudocode-container quarto-float" data-caption-prefix="Algorithm" data-pseudocode-number="1">
<div class="pseudocode">
\begin{algorithm} \caption{OverHAuL}\begin{algorithmic} \Require $repository$ \Ensure $harness, compilation\_script, crash\_input, execution\_log$ \State $path \gets$ \Call{RepoClone}{$repository$} \State $report \gets$ \Call{StaticAnalysis}{$path$} \State $vector\_store \gets$ \Call{CreateOracle}{$path$} \State $acceptable \gets$ False \State $compiled \gets$ False \State $error \gets$ None \State $violation \gets$ None \State $output \gets$ None \For{$i = 1$ to $MAX\_ITERATIONS$} \State $harness \gets$ \Call{HarnessAgents}{$path, report, vector\_store, error, violation, output$} \State $error, compiled \gets$ \Call{BuildHarness}{$path, harness$} \If{$\neg compiled$} \State \textbf{continue} \Comment{Fix harness} \EndIf \State $output, accepted \gets $\Call{EvaluateHarness}{$path, harness$} \If{$\neg accepted$} \State \textbf{continue} \Comment{Improve harness} \Else \State $acceptable \gets$ True \State \textbf{break} \EndIf \EndFor \State \Return $compiled \land acceptable$ \end{algorithmic} \end{algorithm}
</div>
</div>
</section>
<section id="sec-scope" class="level2" data-number="3.5">
<h2 data-number="3.5" class="anchored" data-anchor-id="sec-scope"><span class="header-section-number">3.5</span> Scope</h2>
<p>Currently, OverHAuL is designed to generate new harnesses specifically for medium-sized C libraries. Given the inherent complexity of dealing with C++ projects, this is not a feature yet supported within the system.</p>
<p>The compilation command utilized by OverHAuL is created programmatically. It incorporates the root directory along with all subdirectories that conform to a predefined set of common naming conventions. Additionally, the compilation process uses all C source files identified within these directories. Crucially, it is important that no <code>main()</code> function is present in any of the files to ensure successful compilation. For this reason any files or directories that include “test”, “main”, “example”, “demo”, or “benchmark” in their paths are systematically excluded from the compilation process. This exclusion also decreases the “noise” in the oracle, as these files do not constitute part of the core library and would therefore not contain any functions meaningful to the LLM agents.</p>
<p>Lastly, No support for build systems such as Make or CMake <span class="citation" data-cites="cedilnik2000 feldman1979"><a href="refs.html#ref-cedilnik2000" role="doc-biblioref">[16]</a>, <a href="refs.html#ref-feldman1979" role="doc-biblioref">[17]</a></span> is yet implemented. Such functionality would exponentially increase the complexity of the build step and is beyond the scope of this thesis.</p>
</section>
<section id="sec-implementation" class="level2" data-number="3.6">
<h2 data-number="3.6" class="anchored" data-anchor-id="sec-implementation"><span class="header-section-number">3.6</span> Implementation</h2>
<p>In creating the codebase oracle, we employ the “libclang” Python package <span class="citation" data-cites="he2025"><a href="refs.html#ref-he2025" role="doc-biblioref">[18]</a></span> to slice functions based on the AST capability provided by Clang. As detailed in <a href="#sec-oracle" class="quarto-xref"><span>Section 3.3.3</span></a>, the intermediate output consists of a list of Python dictionaries, with each dictionary storing a function’s body, signature, and corresponding file path. Each chunk of function code is then converted into an embedding using OpenAI’s “text-embedding-3-small” model <span class="citation" data-cites="openaidocs2025a"><a href="refs.html#ref-openaidocs2025a" role="doc-biblioref">[19]</a></span> and stored in a FAISS vector store index <span class="citation" data-cites="faiss"><a href="refs.html#ref-faiss" role="doc-biblioref">[20]</a></span>. This index is mapped to a metadata structure that contains the aforementioned function data—specifically the actual function body, signature, and file path. When a search is conducted on the index, the results returned are the embeddings. The responses that the LLM agent receives are derived from the corresponding metadata entries of each embedding.</p>
<p>All LLM agents and components are developed using the DSPy library, a declarative Python framework for LLM programming created by Stanford’s NLP research team <span class="citation" data-cites="dspy"><a href="refs.html#ref-dspy" role="doc-biblioref">[21]</a></span>. DSPy offers built-in modules and abstractions that facilitate the composition of LLMs and prompting techniques, such as Chain of Thought and ReAct (<a href="#lst-dspy" class="quarto-xref">Listing&nbsp;<span>3.8</span></a>). Each agent within OverHAuL is an instance of DSPy’s ReAct module <span class="citation" data-cites="stanfordnlpteam2025"><a href="refs.html#ref-stanfordnlpteam2025" role="doc-biblioref">[22]</a></span>, accompanied by a custom Signature <span class="citation" data-cites="stanfordnlpteam2025a"><a href="refs.html#ref-stanfordnlpteam2025a" role="doc-biblioref">[23]</a></span>—displayed in <a href="prompts.html" class="quarto-xref"><span>Appendix C</span></a>. DSPy was selected over other contemporary LLM libraries, such as LangChain and Llamaindex <span class="citation" data-cites="langchain llamaindex"><a href="refs.html#ref-langchain" role="doc-biblioref">[24]</a>, <a href="refs.html#ref-llamaindex" role="doc-biblioref">[25]</a></span>, because of its user-friendliness, logical abstractions, and efficient development process—qualities that are often lacking in these alternative libraries <span class="citation" data-cites="both2024 woolf2023 woyera2023"><a href="refs.html#ref-both2024" role="doc-biblioref">[26]</a>, <a href="refs.html#ref-woolf2023" role="doc-biblioref">[27]</a>, <a href="refs.html#ref-woyera2023" role="doc-biblioref">[28]</a></span>.</p>
<div id="lst-dspy" class="listing quarto-float quarto-figure quarto-figure-left anchored" data-fig-scap="DSPy example">
<figure class="quarto-float quarto-float-lst figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-lst" id="lst-dspy-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Listing&nbsp;3.8: Sample DSPy program.
</figcaption>
<div aria-describedby="lst-dspy-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="sourceCode" id="cb9"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1"></a><span class="im">import</span> dspy</span>
<span id="cb9-2"><a href="#cb9-2"></a>lm <span class="op">=</span> dspy.LM(<span class="st">'openai/gpt-4o-mini'</span>, api_key<span class="op">=</span><span class="st">'YOUR_OPENAI_API_KEY'</span>)</span>
<span id="cb9-3"><a href="#cb9-3"></a>dspy.configure(lm<span class="op">=</span>lm)</span>
<span id="cb9-4"><a href="#cb9-4"></a></span>
<span id="cb9-5"><a href="#cb9-5"></a>math <span class="op">=</span> dspy.ChainOfThought(<span class="st">"question -&gt; answer: float"</span>)</span>
<span id="cb9-6"><a href="#cb9-6"></a>math(question<span class="op">=</span>(</span>
<span id="cb9-7"><a href="#cb9-7"></a>    <span class="st">"Two dice are tossed. What is the probability that the sum equals two?"</span></span>
<span id="cb9-8"><a href="#cb9-8"></a>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</figure>
</div>
<p>Repository cloning is executed using the <code>--depth 1</code> flag to minimize disk storage usage and reduce the size of artifacts.</p>
<p>The current implementation of OverHAuL sits at 1,254 source lines of Python code.</p>
<section id="development-tools" class="level3" data-number="3.6.1">
<h3 data-number="3.6.1" class="anchored" data-anchor-id="development-tools"><span class="header-section-number">3.6.1</span> Development Tools</h3>
<p>The development of OverHAuL incorporates a variety of tools aimed at enhancing functionality and efficiency. Notably, “uv” is a Python package and project manager written in Rust that serves as a replacement for Poetry. Additionally, “Ruff,” a code linter and formatter also developed in Rust, contributes to code quality by enforcing consistent formatting standards. The project also employs “MyPy,” the widely-used static type checker for Python, to ensure type correctness. Testing is facilitated through “PyTest,” a robust Python testing framework. Lastly, “pdoc” is utilized as a Static Site Generator (SSG) to automate the creation of API documentation<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> <span class="citation" data-cites="astral2025 astral2025a cortesi2025 pytestdevteam2025 pythonsoftwarefoundation2025"><a href="refs.html#ref-astral2025" role="doc-biblioref">[29]</a>, <a href="refs.html#ref-astral2025a" role="doc-biblioref">[30]</a>, <a href="refs.html#ref-cortesi2025" role="doc-biblioref">[31]</a>, <a href="refs.html#ref-pytestdevteam2025" role="doc-biblioref">[32]</a>, <a href="refs.html#ref-pythonsoftwarefoundation2025" role="doc-biblioref">[33]</a></span>.</p>
<aside id="footnotes-2" class="footnotes footnotes-end-of-block" role="doc-footnote">
<ol start="2">
<li id="fn2"><p>Available at <a href="https://kchousos.github.io/OverHAuL/" class="uri">https://kchousos.github.io/OverHAuL/</a>.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</aside>
</section>
<section id="reproducibility" class="level3" data-number="3.6.2">
<h3 data-number="3.6.2" class="anchored" data-anchor-id="reproducibility"><span class="header-section-number">3.6.2</span> Reproducibility</h3>
<p>OverHAuL’s source code is available at <a href="https://github.com/kchousos/OverHAuL" class="uri">https://github.com/kchousos/OverHAuL</a>. Each benchmark run was conducted within the framework of a GitHub Actions workflow, resulting in a detailed summary accompanied by an artifact containing all cloned repositories. These artifacts are the compressed result directories described in <a href="evaluation.html#sec-local" class="quarto-xref"><span>Section 4.1.1</span></a> and provide the essential components necessary for the reproducibility each project’s results, as described in <a href="#sec-install" class="quarto-xref"><span>Section 3.1</span></a>. All benchmark runs can be conveniently accessed at <a href="https://github.com/kchousos/OverHAuL/actions/workflows/benchmarks.yml" class="uri">https://github.com/kchousos/OverHAuL/actions/workflows/benchmarks.yml</a>.</p>


<div id="refs" class="references csl-bib-body" data-entry-spacing="0" role="list" style="display: none">
<div id="ref-reAct" class="csl-entry" role="listitem">
<div class="csl-left-margin">[1] </div><div class="csl-right-inline">S. Yao <em>et al.</em>, <span>“<span>ReAct</span>: <span>Synergizing Reasoning</span> and <span>Acting</span> in <span>Language Models</span>,”</span> Mar. 10, 2023. doi: <a href="https://doi.org/10.48550/arXiv.2210.03629">10.48550/arXiv.2210.03629</a>. Available: <a href="http://arxiv.org/abs/2210.03629">http://arxiv.org/abs/2210.03629</a></div>
</div>
<div id="ref-torvalds2005" class="csl-entry" role="listitem">
<div class="csl-left-margin">[2] </div><div class="csl-right-inline">L. Torvalds, <span>“Git.”</span> Apr. 07, 2005. Available: <a href="https://git-scm.com/">https://git-scm.com/</a></div>
</div>
<div id="ref-mikolov2013" class="csl-entry" role="listitem">
<div class="csl-left-margin">[3] </div><div class="csl-right-inline">T. Mikolov, K. Chen, G. Corrado, and J. Dean, <span>“Efficient <span>Estimation</span> of <span>Word Representations</span> in <span>Vector Space</span>,”</span> Sep. 06, 2013. doi: <a href="https://doi.org/10.48550/arXiv.1301.3781">10.48550/arXiv.1301.3781</a>. Available: <a href="http://arxiv.org/abs/1301.3781">http://arxiv.org/abs/1301.3781</a></div>
</div>
<div id="ref-utopia" class="csl-entry" role="listitem">
<div class="csl-left-margin">[4] </div><div class="csl-right-inline">B. Jeong <em>et al.</em>, <span>“<span>UTopia</span>: <span>Automatic Generation</span> of <span>Fuzz Driver</span> using <span>Unit Tests</span>,”</span> in <em>2023 <span>IEEE Symposium</span> on <span>Security</span> and <span>Privacy</span> (<span>SP</span>)</em>, May 2023, pp. 2676–2692. doi: <a href="https://doi.org/10.1109/SP46215.2023.10179394">10.1109/SP46215.2023.10179394</a>. Available: <a href="https://ieeexplore.ieee.org/abstract/document/10179394">https://ieeexplore.ieee.org/abstract/document/10179394</a></div>
</div>
<div id="ref-fudge" class="csl-entry" role="listitem">
<div class="csl-left-margin">[5] </div><div class="csl-right-inline">D. Babić <em>et al.</em>, <span>“<span>FUDGE</span>: Fuzz driver generation at scale,”</span> in <em>Proceedings of the 2019 27th <span>ACM Joint Meeting</span> on <span>European Software Engineering Conference</span> and <span>Symposium</span> on the <span>Foundations</span> of <span>Software Engineering</span></em>, Tallinn Estonia: ACM, Aug. 2019, pp. 975–985. doi: <a href="https://doi.org/10.1145/3338906.3340456">10.1145/3338906.3340456</a>. Available: <a href="https://dl.acm.org/doi/10.1145/3338906.3340456">https://dl.acm.org/doi/10.1145/3338906.3340456</a></div>
</div>
<div id="ref-fuzzgen" class="csl-entry" role="listitem">
<div class="csl-left-margin">[6] </div><div class="csl-right-inline">K. Ispoglou, D. Austin, V. Mohan, and M. Payer, <span>“<span>FuzzGen</span>: <span>Automatic</span> fuzzer generation,”</span> in <em>29th <span>USENIX Security Symposium</span> (<span>USENIX Security</span> 20)</em>, 2020, pp. 2271–2287. Available: <a href="https://www.usenix.org/conference/usenixsecurity20/presentation/ispoglou">https://www.usenix.org/conference/usenixsecurity20/presentation/ispoglou</a></div>
</div>
<div id="ref-oss-fuzz-gen" class="csl-entry" role="listitem">
<div class="csl-left-margin">[7] </div><div class="csl-right-inline">D. Liu, O. Chang, J. metzman, M. Sablotny, and M. Maruseac, <span>“<span class="nocase">OSS-fuzz-gen</span>: <span>Automated</span> fuzz target generation.”</span> May 2024. Available: <a href="https://github.com/google/oss-fuzz-gen">https://github.com/google/oss-fuzz-gen</a></div>
</div>
<div id="ref-sun2024" class="csl-entry" role="listitem">
<div class="csl-left-margin">[8] </div><div class="csl-right-inline">Y. Sun, <span>“Automated <span>Generation</span> and <span>Compilation</span> of <span>Fuzz Driver Based</span> on <span>Large Language Models</span>,”</span> in <em>Proceedings of the 2024 9th <span>International Conference</span> on <span>Cyber Security</span> and <span>Information Engineering</span></em>, in <span>ICCSIE</span> ’24. New York, NY, USA: Association for Computing Machinery, Dec. 2024, pp. 461–468. doi: <a href="https://doi.org/10.1145/3689236.3689272">10.1145/3689236.3689272</a>. Available: <a href="https://doi.org/10.1145/3689236.3689272">https://doi.org/10.1145/3689236.3689272</a></div>
</div>
<div id="ref-oss-fuzz" class="csl-entry" role="listitem">
<div class="csl-left-margin">[9] </div><div class="csl-right-inline">A. Arya, O. Chang, J. Metzman, K. Serebryany, and D. Liu, <span>“<span>OSS-Fuzz</span>.”</span> Apr. 08, 2025. Available: <a href="https://github.com/google/oss-fuzz">https://github.com/google/oss-fuzz</a></div>
</div>
<div id="ref-fuzz-introspector" class="csl-entry" role="listitem">
<div class="csl-left-margin">[10] </div><div class="csl-right-inline">Open Source Security Foundation (OpenSSF), <span>“Ossf/fuzz-introspector.”</span> Open Source Security Foundation (OpenSSF), Jun. 30, 2025. Available: <a href="https://github.com/ossf/fuzz-introspector">https://github.com/ossf/fuzz-introspector</a></div>
</div>
<div id="ref-venv" class="csl-entry" role="listitem">
<div class="csl-left-margin">[11] </div><div class="csl-right-inline">Python Software Foundation, <span>“Venv — <span>Creation</span> of virtual environments,”</span> Jul. 17, 2025. Available: <a href="https://docs.python.org/3/library/venv.html">https://docs.python.org/3/library/venv.html</a></div>
</div>
<div id="ref-pip" class="csl-entry" role="listitem">
<div class="csl-left-margin">[12] </div><div class="csl-right-inline">pip developers, <span>“Pip documentation V25.1.1,”</span> 2025. Available: <a href="https://pip.pypa.io/en/stable/">https://pip.pypa.io/en/stable/</a></div>
</div>
<div id="ref-flawfinder" class="csl-entry" role="listitem">
<div class="csl-left-margin">[13] </div><div class="csl-right-inline">D. A. Wheeler, <span>“Flawfinder <span>Home Page</span>.”</span> Available: <a href="https://dwheeler.com/flawfinder/">https://dwheeler.com/flawfinder/</a></div>
</div>
<div id="ref-zhao2024" class="csl-entry" role="listitem">
<div class="csl-left-margin">[14] </div><div class="csl-right-inline">S. Zhao, Y. Yang, Z. Wang, Z. He, L. K. Qiu, and L. Qiu, <span>“Retrieval <span>Augmented Generation</span> (<span>RAG</span>) and <span>Beyond</span>: <span>A Comprehensive Survey</span> on <span>How</span> to <span>Make</span> your <span>LLMs</span> use <span>External Data More Wisely</span>,”</span> Sep. 23, 2024. doi: <a href="https://doi.org/10.48550/arXiv.2409.14924">10.48550/arXiv.2409.14924</a>. Available: <a href="http://arxiv.org/abs/2409.14924">http://arxiv.org/abs/2409.14924</a></div>
</div>
<div id="ref-chen2021" class="csl-entry" role="listitem">
<div class="csl-left-margin">[15] </div><div class="csl-right-inline">M. Chen <em>et al.</em>, <span>“Evaluating <span>Large Language Models Trained</span> on <span>Code</span>,”</span> Jul. 14, 2021. doi: <a href="https://doi.org/10.48550/arXiv.2107.03374">10.48550/arXiv.2107.03374</a>. Available: <a href="http://arxiv.org/abs/2107.03374">http://arxiv.org/abs/2107.03374</a></div>
</div>
<div id="ref-cedilnik2000" class="csl-entry" role="listitem">
<div class="csl-left-margin">[16] </div><div class="csl-right-inline">A. Cedilnik, B. Hoffman, B. King, K. Martin, and A. Neundorf, <span>“<span>CMake</span> - <span>Upgrade Your Software Build System</span>.”</span> 2000. Available: <a href="https://cmake.org/">https://cmake.org/</a></div>
</div>
<div id="ref-feldman1979" class="csl-entry" role="listitem">
<div class="csl-left-margin">[17] </div><div class="csl-right-inline">S. I. Feldman, <span>“Make — a program for maintaining computer programs,”</span> <em>Software: Practice and Experience</em>, vol. 9, no. 4, pp. 255–265, 1979, doi: <a href="https://doi.org/10.1002/spe.4380090402">10.1002/spe.4380090402</a>. Available: <a href="https://onlinelibrary.wiley.com/doi/abs/10.1002/spe.4380090402">https://onlinelibrary.wiley.com/doi/abs/10.1002/spe.4380090402</a></div>
</div>
<div id="ref-he2025" class="csl-entry" role="listitem">
<div class="csl-left-margin">[18] </div><div class="csl-right-inline">T. He, <span>“Sighingnow/libclang.”</span> Jul. 03, 2025. Available: <a href="https://github.com/sighingnow/libclang">https://github.com/sighingnow/libclang</a></div>
</div>
<div id="ref-openaidocs2025a" class="csl-entry" role="listitem">
<div class="csl-left-margin">[19] </div><div class="csl-right-inline">OpenAI Docs, <span>“Text-embedding-3-small - <span>OpenAI API</span>,”</span> 2025. Available: <a href="https://platform.openai.com">https://platform.openai.com</a></div>
</div>
<div id="ref-faiss" class="csl-entry" role="listitem">
<div class="csl-left-margin">[20] </div><div class="csl-right-inline">M. Douze <em>et al.</em>, <span>“The <span>Faiss</span> library,”</span> Feb. 11, 2025. doi: <a href="https://doi.org/10.48550/arXiv.2401.08281">10.48550/arXiv.2401.08281</a>. Available: <a href="http://arxiv.org/abs/2401.08281">http://arxiv.org/abs/2401.08281</a></div>
</div>
<div id="ref-dspy" class="csl-entry" role="listitem">
<div class="csl-left-margin">[21] </div><div class="csl-right-inline">O. Khattab <em>et al.</em>, <span>“<span>DSPy</span>: <span>Compiling Declarative Language Model Calls</span> into <span>Self-Improving Pipelines</span>,”</span> Oct. 05, 2023. doi: <a href="https://doi.org/10.48550/arXiv.2310.03714">10.48550/arXiv.2310.03714</a>. Available: <a href="http://arxiv.org/abs/2310.03714">http://arxiv.org/abs/2310.03714</a></div>
</div>
<div id="ref-stanfordnlpteam2025" class="csl-entry" role="listitem">
<div class="csl-left-margin">[22] </div><div class="csl-right-inline">Stanford NLP Team, <span>“Signatures - <span>DSPy Documentation</span>,”</span> 2025. Available: <a href="https://dspy.ai/learn/programming/signatures/">https://dspy.ai/learn/programming/signatures/</a></div>
</div>
<div id="ref-stanfordnlpteam2025a" class="csl-entry" role="listitem">
<div class="csl-left-margin">[23] </div><div class="csl-right-inline">Stanford NLP Team, <span>“<span>ReAct</span> - <span>DSPy Documentation</span>,”</span> 2025. Available: <a href="https://dspy.ai/api/modules/ReAct/">https://dspy.ai/api/modules/ReAct/</a></div>
</div>
<div id="ref-langchain" class="csl-entry" role="listitem">
<div class="csl-left-margin">[24] </div><div class="csl-right-inline">H. Chase, <span>“<span>LangChain</span>.”</span> Oct. 2022. Available: <a href="https://github.com/langchain-ai/langchain">https://github.com/langchain-ai/langchain</a></div>
</div>
<div id="ref-llamaindex" class="csl-entry" role="listitem">
<div class="csl-left-margin">[25] </div><div class="csl-right-inline">J. Liu, <span>“<span>LlamaIndex</span>.”</span> Nov. 2022. doi: <a href="https://doi.org/10.5281/zenodo.1234">10.5281/zenodo.1234</a>. Available: <a href="https://github.com/jerryjliu/llama_index">https://github.com/jerryjliu/llama_index</a></div>
</div>
<div id="ref-both2024" class="csl-entry" role="listitem">
<div class="csl-left-margin">[26] </div><div class="csl-right-inline">F. Both, <span>“Why we no longer use <span>LangChain</span> for building our <span>AI</span> agents,”</span> 2024. Available: <a href="https://octomind.dev/blog/why-we-no-longer-use-langchain-for-building-our-ai-agents">https://octomind.dev/blog/why-we-no-longer-use-langchain-for-building-our-ai-agents</a></div>
</div>
<div id="ref-woolf2023" class="csl-entry" role="listitem">
<div class="csl-left-margin">[27] </div><div class="csl-right-inline">M. Woolf, <span>“The <span>Problem With LangChain</span>,”</span> Jul. 14, 2023. Available: <a href="https://minimaxir.com/2023/07/langchain-problem/">https://minimaxir.com/2023/07/langchain-problem/</a></div>
</div>
<div id="ref-woyera2023" class="csl-entry" role="listitem">
<div class="csl-left-margin">[28] </div><div class="csl-right-inline">Woyera, <span>“6 <span>Reasons</span> why <span>Langchain Sucks</span>,”</span> Sep. 08, 2023. Available: <a href="https://medium.com/@woyera/6-reasons-why-langchain-sucks-b6c99c98efbe">https://medium.com/@woyera/6-reasons-why-langchain-sucks-b6c99c98efbe</a></div>
</div>
<div id="ref-astral2025" class="csl-entry" role="listitem">
<div class="csl-left-margin">[29] </div><div class="csl-right-inline">Astral, <span>“Astral-sh/uv.”</span> Astral, Jul. 18, 2025. Available: <a href="https://github.com/astral-sh/uv">https://github.com/astral-sh/uv</a></div>
</div>
<div id="ref-astral2025a" class="csl-entry" role="listitem">
<div class="csl-left-margin">[30] </div><div class="csl-right-inline">Astral, <span>“Astral-sh/ruff.”</span> Astral, Jul. 18, 2025. Available: <a href="https://github.com/astral-sh/ruff">https://github.com/astral-sh/ruff</a></div>
</div>
<div id="ref-cortesi2025" class="csl-entry" role="listitem">
<div class="csl-left-margin">[31] </div><div class="csl-right-inline">A. Cortesi, M. Hils, and T. Kriechbaumer, <span>“Mitmproxy/pdoc.”</span> mitmproxy, Jul. 18, 2025. Available: <a href="https://github.com/mitmproxy/pdoc">https://github.com/mitmproxy/pdoc</a></div>
</div>
<div id="ref-pytestdevteam2025" class="csl-entry" role="listitem">
<div class="csl-left-margin">[32] </div><div class="csl-right-inline">PyTest Dev Team, <span>“Pytest-dev/pytest.”</span> pytest-dev, Jul. 18, 2025. Available: <a href="https://github.com/pytest-dev/pytest">https://github.com/pytest-dev/pytest</a></div>
</div>
<div id="ref-pythonsoftwarefoundation2025" class="csl-entry" role="listitem">
<div class="csl-left-margin">[33] </div><div class="csl-right-inline">Python Software Foundation, <span>“Python/mypy.”</span> Python, Jul. 18, 2025. Available: <a href="https://github.com/python/mypy">https://github.com/python/mypy</a></div>
</div>
</div>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../chapters/background.html" class="pagination-link" aria-label="Background">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Background</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../chapters/evaluation.html" class="pagination-link" aria-label="Evaluation">
        <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Evaluation</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
 © 2025 Konstantinos Chousos
  </li>  
</ul>
    </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="https://github.com/kchousos">
<p><iconify-icon role="img" inline="" icon="fa6-brands:github" aria-label="Icon github from fa6-brands Iconify.design set." title="Icon github from fa6-brands Iconify.design set."></iconify-icon></p>
</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="https://orcid.org/0009-0008-6063-7915">
<p><iconify-icon role="img" inline="" icon="academicons:orcid" aria-label="Icon orcid from academicons Iconify.design set." title="Icon orcid from academicons Iconify.design set."></iconify-icon></p>
</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="https://www.linkedin.com/in/kchousos/">
<p><iconify-icon role="img" inline="" icon="fa6-brands:linkedin" aria-label="Icon linkedin from fa6-brands Iconify.design set." title="Icon linkedin from fa6-brands Iconify.design set."></iconify-icon></p>
</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="mailto:sdi2000215@di.uoa.gr">
<p><iconify-icon role="img" inline="" icon="material-symbols:mail" aria-label="Icon mail from material-symbols Iconify.design set." title="Icon mail from material-symbols Iconify.design set."></iconify-icon></p>
</a>
  </li>  
</ul>
    </div>
  </div>
</footer>
    <script type="text/javascript">
    (function(d) {
      d.querySelectorAll(".pseudocode-container").forEach(function(el) {
        let pseudocodeOptions = {
          indentSize: el.dataset.indentSize || "1.2em",
          commentDelimiter: el.dataset.commentDelimiter || "//",
          lineNumber: el.dataset.lineNumber === "true" ? true : false,
          lineNumberPunc: el.dataset.lineNumberPunc || ":",
          noEnd: el.dataset.noEnd === "true" ? true : false,
          titlePrefix: el.dataset.captionPrefix || "Algorithm"
        };
        pseudocode.renderElement(el.querySelector(".pseudocode"), pseudocodeOptions);
      });
    })(document);
    (function(d) {
      d.querySelectorAll(".pseudocode-container").forEach(function(el) {
        let captionSpan = el.querySelector(".ps-root > .ps-algorithm > .ps-line > .ps-keyword")
        if (captionSpan !== null) {
          let captionPrefix = el.dataset.captionPrefix + " ";
          let captionNumber = "";
          if (el.dataset.pseudocodeNumber) {
            captionNumber = el.dataset.pseudocodeNumber + " ";
            if (el.dataset.chapterLevel) {
              captionNumber = el.dataset.chapterLevel + "." + captionNumber;
            }
          }
          captionSpan.innerHTML = captionPrefix + captionNumber;
        }
      });
    })(document);
    </script>
  
<script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","descPosition":"bottom","loop":false,"openEffect":"zoom","selector":".lightbox"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>




</body></html>